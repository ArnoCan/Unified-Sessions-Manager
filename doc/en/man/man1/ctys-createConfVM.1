.TH "ctys-createConfVM" 1 "Feb, 2010" ""

.P
\&.

.SH NAME
.P
\fBctys-createConfVM - creates a startup configuration of VMs\fR

.SH SYNTAX
.P
\fBctys-createConfVM\fR 


   [--auto-all]
   [--auto]
   [-C]
   [--create-image]
   [-d <debug-level>]
   [-D <directory>]
   [--defaults-file=<file-name>]
   [--defaults-file <file-name>]
   [--expert]
   [-h]
   [-H <help-options>]
   [-L <remote-user>]
   [--label=<label>]
   [--label <label>]
   [--list-env-var-options|--levo]
   [--no-create-image]
   [--no-save-para-kernel]
   [-R <remote-hosts>]
   [--save-para-kernel]
   [-t <session-type>]
   [-V]
   [-X]


.SH DESCRIPTION
.P
\fBctys\-createConfQEMU\fR creates a startup configuration for VMs, currently \fBQEMU/KVM\fR, \fBVMW\fR,
and \fBXEN\fR.
Due to the "almost missing difference" between QEMU and KVM for the user interface this utility 
creates the configuration file for both as QEMU with dynamic runtime variation of the ACCELERATOR.
If required a new configuration for an existing VM could be created too, but in current version
the former values are just ignored and saved into a backup file.
Modification of existing configurations should be done manually by editing
the conf\-file.

.P
The call options are partly set by the call options, but could be pr\-assigned by environment 
variables almost completly.
The actually available variables with their inital value could be listed by the option
\&'\-\-list\-env\-var\-options' or for short '\-\-levo'.
The Syntax for the call is

.nf
  <VAR-NAME>=<VAR-VALUE> ctys-createConfVM ....
.fi

.P
For example

.nf
  ACCELERATOR=KVM DIST=Scientific RELEASE=5.4.1 OS=Linux OSVERSION=2.6.18 \e
  ctys-createConfVM -t qemu --label=tst213 --auto-all --no-create-image
.fi


.P
The created files comprise a generic wrapper\-script and a configuration file, where the wrapperscript 
should suffice for now all requirements, and is at least targeted to do so.
The configuration script contains the specific variables and parameters for the wrapperscript.
Both files are also part of the overall ctys\-framework as they implement the actual QEMU plugin 
execution for encapsulation of the final call.
The execution of \fBctys\-createConfVM\fR could be performed either \fBlocally or\fR on \fBremote\fR 
machines, supporting for native remote execution on machines with installed appropriate components.
The resulting configuration could be executed by the \fBctys\-wrapper\fR script either 
by call of \fBctys \- locally or remote \-\fR or \fBctys\-wrapper CLI \- locally\fR.

.P
Both files are commented bash syntax files, implementing a medium level of configuration and workflow
complexity and could be extended as required.
The base call interface cosisting of the call parameters

.RS
.IP \(bu 3
bootmode
.IP \(bu 3
console
.IP \(bu 3
vncaccesdisplay
.IP \(bu 3
check
.RE

.P
is mandatory and therefore required to be present for proper ctys operations.
The amount of supported values could be adapted as required and varied by the user.
The following values are required to be implemented mandatory:

.nf
    --bootmode=HDD
    --initonly
    --instmode=(CD|PXE)
    --console={VNC,CLI}
    --vncaccesdisplay=<#nr>
    --check
.fi


.P
The wrapper script is used for internal startup calls, but could be used particularly for tests from the command line.
The following options support the initial runtime setup:

.nf
    --listoptions
    --print
    --check
.fi


.P
Particularly the debugging option '\fB\-d printfinal\fR' provides the display of the final call assembly for
debugging purposes.

.P
The \fBWRAPPER\-SCRIPT\-OPTIONS\fR are:

.TP
\fB\-\-bootmode=<boot\-modes>\fR
The bootmode for now implements the following options

.RS
.IP \(bu 3
INSTALL

This installs from media accessible within the file system.
frequently this is a iso\-image of s DVD.

.IP \(bu 3
PXE

This installs from network and requires some ser setup procedures.
The new versions of QEMU support this from the box, older versions might require
specific BIOS related options.

.IP \(bu 3
VHDD

The standard boot from a virtual HDD.
By default only one boot media is foreseen, additonal data devices are prepared 
within the configuration file.
.RE

.TP
\fB\-\-check\fR
This option forces a check only, thus simply the calloptions fare assembled and
the final call is suppressed.
In case of INSTALL and PXE, where intermediate steps for creation of the virtual HDDs
are required these are actually suppressed too.

When called combined with \fB\-\-print\fR option the final assembled call is displayed.

.TP
\fB\-\-console=<help\-option>\fR
This defined the CONSOLE.
This is by default one of
CLI0, CLI, EMACSM, EMACS, EMACSAM, EMACSA, GTERM, NONE, 
SDL, VNC, X11, or XTERM.
The VNC type is implicitly created in any case by the standard call, allowing later decision.

.TP
\fB\-\-initmode\fR
The virtual storage devices are created and initalized, else the configuration and wrapper
files are created only.

.TP
\fB\-\-initmodeonly\fR
The virtual storage devices are created and initalized only.

.TP
\fB\-\-instmode=<par>\fR
The installation mode actually creates the virtual bootable devices.
This is in the most cases proceeded by booting the GuestOS into an install mode,
where the provided mechanisms may be applied.
The majority of OS provides CD/DVD\-boot which could be performed by an so called
ISO\-image.
Some OS has to be installed by specific variants only, such as PXE boot, when e.g.
other variants are faulty.

Debian provides particularly for paravirtualization a method for 
offline installation e.g. by \fBdebootstrap\fR.
This method is supported within ctys by a specific wrapper script, which is generated 
during creation and stored within the created directory of the VM.

When the preconfigured defaults should be applied the keyword 'default' could be used.

.TP
\fB\-\-listoptions\fR
This call lsits the actual available options of the user QEMUBASE/QEMUKVM call.

.TP
\fB\-\-print\fR
Prints some infrmation and the final exec call with the whole set 
of parameter assembly.

.TP
\fB\-\-vncaccesdisplay=<#nr>\fR
The display number for VNC access.
The runtime system manages these by a dynamic algorithm in mixed and distributed 
environments.
The value for the local  commandline call should consider free ports, no interference 
to the ctys framework should appear.

.P
\&.

.SH OPTIONS
.P
\fBctys-createConfVM\fR 

.TP
\fB\-\-auto\fR 
Forces all answers to be 'y', excluding mandatory parameters, which have
to be answered by a manual confirmation.

.TP
\fB\-\-auto\-all\fR 
Forces all answers to be 'y', including mandatory parameters, which have
else to be answered by a manual confirmation.

.TP
\fB\-C\fR
Forces the creation of a directory when \fB\-D\fR is selected 
and the target directory is not yet present.
For safety reasons when operating on remote hosts, only one level
of subdirectories could be created, for multiple level
creation use "mkdir \-p".

.TP
\fB\-d <debug\-level>\fR 
Same as ctys.

.TP
\fB\-D <directory>\fR
Directory for storage of created configuration files.

.TP
\fB\-\-defaults\-file=<filename>\fR
Filename for an alternative defaults file.

.TP
\fB\-\-expert\fR
Expert mode, which reduces the displayed text, and shows some additional technical details.

.TP
\fB\-h|\-\-help|\-help\fR 
Print help, refer to "\-H" for additional information.

.TP
\fB\-H <help\-option>\fR
The extended help option is based on system interfaces for display of
manpages, PDF  and HTML documents.
This comprises the man pages and installed manuals.

For additional help refer to the documents or type \fBctys \-H help\fR.

.TP
\fB\-L <remote\-user>\fR
The user for remote loging of generic beamer for immediate call transfer for remote execution.
Refer to "ctys" generic options for additional information.

.TP
\fB\-\-label=<label\-for\-vm>\fR
The label \- the name \- for the VM to be created.

.TP
\fB\-\-list\-env\-var\-options\fR
List of current options to be set by environment variables.
The values are the initially assigned static values, which partly are
completed at runtime dynamically.

.TP
\fB\-\-no\-create\-image\fR
Suppresses the automatic creation of a virtual file image for installation.

.TP
\fB\-\-no\-save\-para\-kernel\fR
Suppresses the automatic storage of runtime kernels when these are selected.
This is particularly frequently the case for paraviretualized DomU of Xen
and in some cases of QEMU.

.TP
\fB\-R <remote\-hosts>\fR
List of remote hosts for execution by generic beamer on a remote location.
Either a list of valid hostnames, ipaddresses, or EMail\-Format hostnames.

.TP
\fB\-\-no\-save\-para\-kernel\fR
Forces the automatic storage of runtime kernels when these are selected.
This is particularly the case for HVM DomU of Xen, or for some OSs like CentOS,
where the where this is not neccessarily required.

.TP
\fB\-t <session\-type>\fR
The session type the VM has to be created for.
Currently \fBQEMU\fR(for QEMU and KVM on x86), \fBVMW\fR, and \fBXEN\fR
are supported.
Each defines a common set of parameters with additional specific variations.

.TP
\fB\-V\fR
Version.

.TP
\fB\-X\fR
Terse.

.P
\&.

.SH ARGUMENTS
.P
None.

.P
\&.

.SH EXIT-VALUES
.TP
 0: OK:
Result is valid.

.TP
 1: NOK:
Erroneous parameters.

.TP
 2: NOK:
Missing an environment element like files or databases.

.SH SEE ALSO
.TP
\fBctys executables\fR

\fIctys\-QEMU(1)\fR, \fIctys\-uc\-QEMU(7)\fR

.SH AUTHOR
.P
Written and maintained by Arno\-Can Uestuensoez:

.TS
tab(^); ll.
 Maintenance:^<acue_sf1@sourceforge.net>
 Homepage:^<http://www.UnifiedSessionsManager.org>
 Sourceforge.net:^<http://sourceforge.net/projects/ctys>
 Berlios.de:^<http://ctys.berlios.de>
 Commercial:^<http://www.i4p.com>
.TE


.SH COPYRIGHT
.P
Copyright (C) 2008, 2009, 2010 Ingenieurbuero Arno\-Can Uestuensoez

.P
This is software and documentation from \fBBASE\fR package,

.RS
.IP \(bu 3
for software see GPL3 for license conditions,
.IP \(bu 3
for documents  see GFDL for license conditions,
.RE

.P
This document is created with: latex and text2tags


.\" man code generated by txt2tags 2.3 (http://txt2tags.sf.net)
.\" cmdline: txt2tags -t man -i ctys-createConfVM.t2t -o /tmpn/0/ctys/bld/01.11.001/doc-tmp/BASE/en/man/man1/ctys-createConfVM.1

