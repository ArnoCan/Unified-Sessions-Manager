
Usage: 
======

   ctys-vdbgen [options] <target-list>


Description:
============

   This tool generates databases of static mapping from configuration
   files for usage by ctys-gettarget. This tool itself is a wrapper
   for call of "ctys -a ENUMERATE=machine....". The output of the
   ENUMERATE action for a given list is stored into one file conatined
   in teh given DB-PATH, or default respectively.

   The mapping contains available VMs for a given list of PMs. 

   Several files could be generated as specific access-groups which
   could be selected by parameter for ctys call.

   The content will be used as runtime-decision base for additional
   selective evaluation by "ctys -a LIST=MACHINE" call.


   REMARKS: 

   1. Multiple-Entries (IP, MAC, etc.) 
      The common behaviour in case of multiple entries is to use
      the FIRST-ONLY. Even though some tools might present more
      than one, it must not be relied on at all!

      The decision was to handle multiple entries correctly in any
      scenario or ignore them.

      For now they will be ignored.

   2. Whitespaces
      Whitespaces are generally no supported. When required within
      suboptions the '%' sign has to be used for padding
      field-seperators.

      Anyhow, please avoid them, at least for now!


   Checking the defaults in following section for options, the call 

      ctys-vdbgen <host1> <host2> ...

   leads to the default call

      ${HOME}/bin/ctys -a enumerate=machine,b:$HOME >\
         ${HOME}/.ctys/db/default/enum.fdb <host1> <host2> ...

   Where the PM plugin by default additionaly checks for the 
   PM configuration which is located in

     /etc/ctys.d/pm.conf

   For additional information refer to "ctys-genpmconf".


   A special append-mode is supported for addition of data. This mode
   does a pure concat only, not redundancy of added data is
   tested. Therefore the user should be aware, when calling append
   mode, whether he already updated the data of that node.

   The deletion of data has to be performed manually for now, a simple
   ASC-II editor, MS-Excel, or the Spredsheet application of OpenOffice 
   could be used for this task.

   The data format is decribed in the appendix of the ctys manual.



Options:
========

   <same as "ctys -a enumerate=machine,b:<srcpathlst>"

      With specific environment variables for modification of the
      default search path DEFAULT_ENUM_BASE.

        <srcpathlst>="${BASEPATHLST:-$DEFAULT_ENUM_BASE}\
                      ${BASEAPPENDLST:+%$BASEAPPENDLST}"

      which expands by default to

        "ctys -a enumerate=machine,b:$DEFAULT_ENUM_BASE ..."

      All context options and suboptions will be passed through, so
      apply same as for ENUMERATE action.


   --append (literally!)

      This activates the append mode, just aapending data to present
      fdb or creating a new if missing. 

      This is just foreseen for addition of minor changes and avoiding
      a long running recollection of each dataset from each target.


   --stdio (literally!)

     Writes it's output to STDIO.


   -p <db-directory-path>
      Pathname for directory containing DB file, which stores the
      mapping records generated from ctys-ENUMERATE literally.

      The default value for the directory is given as:

        DEFAULT_DBPATHLST=$HOME/.ctys/db/default

      or

        DEFAULT_DBPATHLST=<install-path>/conf/db/default

      The name for the filedb is hard-coded as "enum.fdb". 
      Additional files could be stored within this directory.

      Only ONE path could be provided here.
          
