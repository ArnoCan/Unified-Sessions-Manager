  
  
  
  
Name:

  ctys-wakeup
  
  
Usage:
  
  
  
  ctys-wakeup [options] <MAC-address>
  
  
  
Description:
  
  ctys-wakeup sends a so called MagicPacket(TM)
  
  to a given destination.
  
  
  
  In case a remote segment is addressed by setting the "-t" option, a
  
  UDP message is sent to port "9".
  
  
  
  The script consists of a few lines of bash code with a call to Netcat. So
  
  it could be adapted easily.
  
  
  
  mac=$1;shift
  
  ip=$1;shift
  
  
  
  function buildWOLMagicPacket () -
  
   local _mac=$1;shift
  
   declare -a _pdu;
  
  
  
   function macAsc2Hex () -
  
     for i in $-@";do
  
        printf """""x"$i"
  
     done
  
   "
  
  
  
   #frame
  
   _pdu=(ff ff ff ff ff ff);
  
  
  
   #MAC addr in "little endian"
  
   addr=($-mac//:/ ")
  
   addrLitteEndian=($-addr[0]" $-addr[1]" "
  
                        $-addr[2]" $-addr[3]" "
  
                        $-addr[4]" $-addr[5]");
  
  
  
   #add 16 duplications
  
   for((i=0;i<16;i++));do
  
     for m in $-addrLitteEndian[@]";do
  
        size=$-#_pdu[@]"
  
        _pdu[$-size"]=$m
  
     done
  
   done
  
  
  
   macAsc2Hex $-_pdu[@]"
  
  "
  
  
  
  if [ -n "$ip" ];then
  
    printf "`buildWOLMagicPacket $mac`""n"_nc -u -w 1 $ip 9
  
    else
  
      buildWOLMagicPacket $mac
  
  fi
  
  
  
  displays a short list of current available SMB server and workstations.
  
  
  
Options:
  
  
  
   -d <level>
  
       Sets debug.
  
  
   -h
  
       Print help.
  
  
   -p <port>
  
       The port for destination, which is by default "9" for a hard-coded
  
       UDP message.  It is not really relevant, might be used only for
  
       adaptation to orewall rule.
  
  
   -t <TCP/IP address>
  
       When provided the packet is send to destination. The destination
  
       address could be a "directed-broadcast" address, which has to be
  
       supported by the router.
  
  
  
       E.g.  OpenBSD requires "net.init.ip.directed-broadcast=1", and
  
       the appropriate pf-rules.
  
  
  
       For 1.2.3.4:
  
  
  
       <wol>     -1.2.3.255"
  
  
  
       pass   in   on "$ifX   from <wolExec> to <wol>
  
       pass   out on "$ifY   from <wolExec> to <wol>
  
  
  
       Alternatively a "rdr" - Redirection could be set.
  
  
  
       When this option is not provided, a UDP packet will be sent to
  
       "255:255:255:255:9".
  
  
   -V
  
       Version.
  
  
   -X
  
       See ctys, terse for machine output.
  
  
  
Arguments:
  
  
  
   <mac-address>
  
       The MAC address of the targeted NIC, this could be evaluated
  
       by call of "ctys-macmap" and/or "ctys-vhost"
  
  
  Exit Values:
  
  
  
     o 0: OK
  
       Result is valid.
  
  
     o 1: NOK:
  
       Erroneous parameters.
  
  
     o 2: NOK:
  
       Missing an environment element like oles or databases.
  
  
  
Author:
  
  
  Arno-Can Uestuensoez.
  
  
  
Reporting Bugs:
  
  
  Report bugs to <acue_sf1@sourceforge.net>
  
  
  
Copyright:
  
  
  Copyright (C) 2007 Arno-Can Uestuensoez (UnioedSessionsManager.org)
  
  
  
  This program comes with ABSOLUTELY NO WARRANTY; for de-
  
  tails refer to provided documentation. This is free software, and you are
  
  welcome to redistribute it under certain conditions. For details refer to
  
  "GNU General Public License - version 3" <http://www.gnu.org/licenses/>.
  
  
  
See also:
  
  
  ctys User-Manual.
  
  
  
  Generated by "dvi2tty" from the unique LaTex sources.
  
  
  
                                     1
